!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.crossfilter=r()}}(function(){return function r(t,e,n){function o(u,f){if(!e[u]){if(!t[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var s=e[u]={exports:{}};t[u][0].call(s.exports,function(r){var e=t[u][1][r];return o(e?e:r)},s,s.exports,r,t,e,n)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(r,t){t.exports=r("./src/crossfilter").crossfilter},{"./src/crossfilter":8}],2:[function(r,t,e){(function(r){function n(r){return r&&r.Object===Object?r:null}function o(r){if("string"==typeof r)return r;if(u(r))return w?w.call(r):"";var t=r+"";return"0"==t&&1/r==-f?"-0":t}function i(r){return!!r&&"object"==typeof r}function u(r){return"symbol"==typeof r||i(r)&&b.call(r)==a}var f=1/0,a="[object Symbol]",c={function:!0,object:!0},s=c[typeof e]&&e&&!e.nodeType?e:void 0,l=c[typeof t]&&t&&!t.nodeType?t:void 0,h=n(s&&l&&"object"==typeof r&&r),p=n(c[typeof self]&&self),v=n(c[typeof window]&&window),d=n(c[typeof this]&&this),y=h||v!==(d&&d.window)&&v||p||d||Function("return this")(),g=Object.prototype,b=g.toString,_=y.Symbol,x=_?_.prototype:void 0,w=x?x.toString:void 0;t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(r,t,e){(function(n){function o(r){return r&&r.Object===Object?r:null}function i(r){var t=!1;if(null!=r&&"function"!=typeof r.toString)try{t=!!(r+"")}catch(e){}return t}function u(r){var t=-1,e=r?r.length:0;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function f(){this.__data__=ut?ut(null):{}}function a(r){return this.has(r)&&delete this.__data__[r]}function c(r){var t=this.__data__;if(ut){var e=t[r];return e===T?void 0:e}return tt.call(t,r)?t[r]:void 0}function s(r){var t=this.__data__;return ut?void 0!==t[r]:tt.call(t,r)}function l(r,t){var e=this.__data__;return e[r]=ut&&void 0===t?T:t,this}function h(r){var t=-1,e=r?r.length:0;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function p(){this.__data__=[]}function v(r){var t=this.__data__,e=E(t,r);if(0>e)return!1;var n=t.length-1;return e==n?t.pop():ot.call(t,e,1),!0}function d(r){var t=this.__data__,e=E(t,r);return 0>e?void 0:t[e][1]}function y(r){return E(this.__data__,r)>-1}function g(r,t){var e=this.__data__,n=E(e,r);return 0>n?e.push([r,t]):e[n][1]=t,this}function b(r){var t=-1,e=r?r.length:0;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}function _(){this.__data__={hash:new u,map:new(it||h),string:new u}}function x(r){return z(this,r).delete(r)}function w(r){return z(this,r).get(r)}function m(r){return z(this,r).has(r)}function k(r,t){return z(this,r).set(r,t),this}function E(r,t){for(var e=r.length;e--;)if(M(r[e][0],t))return e;return-1}function z(r,t){var e=r.__data__;return O(t)?e["string"==typeof t?"string":"hash"]:e.map}function A(r,t){var e=r[t];return q(e)?e:void 0}function O(r){var t=typeof r;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==r:null===r}function j(r){if(null!=r){try{return rt.call(r)}catch(t){}try{return r+""}catch(t){}}return""}function S(r,t){if("function"!=typeof r||t&&"function"!=typeof t)throw new TypeError(L);var e=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var u=r.apply(this,n);return e.cache=i.set(o,u),u};return e.cache=new(S.Cache||b),e}function M(r,t){return r===t||r!==r&&t!==t}function F(r){var t=C(r)?et.call(r):"";return t==U||t==D}function C(r){var t=typeof r;return!!r&&("object"==t||"function"==t)}function q(r){if(!C(r))return!1;var t=F(r)||i(r)?nt:G;return t.test(j(r))}function N(r){return null==r?"":$(r)}var $=r("lodash._basetostring"),L="Expected a function",T="__lodash_hash_undefined__",U="[object Function]",D="[object GeneratorFunction]",R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,W=/[\\^$.*+?()[\]{}|]/g,I=/\\(\\)?/g,G=/^\[object .+?Constructor\]$/,J={function:!0,object:!0},P=J[typeof e]&&e&&!e.nodeType?e:void 0,B=J[typeof t]&&t&&!t.nodeType?t:void 0,H=o(P&&B&&"object"==typeof n&&n),K=o(J[typeof self]&&self),Q=o(J[typeof window]&&window),V=o(J[typeof this]&&this),X=H||Q!==(V&&V.window)&&Q||K||V||Function("return this")(),Y=Array.prototype,Z=Object.prototype,rt=Function.prototype.toString,tt=Z.hasOwnProperty,et=Z.toString,nt=RegExp("^"+rt.call(tt).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=Y.splice,it=A(X,"Map"),ut=A(Object,"create");u.prototype.clear=f,u.prototype.delete=a,u.prototype.get=c,u.prototype.has=s,u.prototype.set=l,h.prototype.clear=p,h.prototype.delete=v,h.prototype.get=d,h.prototype.has=y,h.prototype.set=g,b.prototype.clear=_,b.prototype.delete=x,b.prototype.get=w,b.prototype.has=m,b.prototype.set=k;var ft=S(function(r){var t=[];return N(r).replace(R,function(r,e,n,o){t.push(n?o.replace(I,"$1"):e||r)}),t});S.Cache=b,t.exports=ft}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._basetostring":2}],4:[function(r,t){function e(r){return _(r)?r:s(r)}function n(r,t){if(_(r))return!1;var e=typeof r;return"number"==e||"symbol"==e||"boolean"==e||null==r||a(r)?!0:y.test(r)||!d.test(r)||null!=t&&r in Object(t)}function o(r){if("string"==typeof r||a(r))return r;var t=r+"";return"0"==t&&1/r==-l?"-0":t}function i(r){var t=u(r)?b.call(r):"";return t==h||t==p}function u(r){var t=typeof r;return!!r&&("object"==t||"function"==t)}function f(r){return!!r&&"object"==typeof r}function a(r){return"symbol"==typeof r||f(r)&&b.call(r)==v}function c(r,t,u){t=n(t,r)?[t]:e(t);var f=-1,a=t.length;for(a||(r=void 0,a=1);++f<a;){var c=null==r?void 0:r[o(t[f])];void 0===c&&(f=a,c=u),r=i(c)?c.call(r):c}return r}var s=r("lodash._stringtopath"),l=1/0,h="[object Function]",p="[object GeneratorFunction]",v="[object Symbol]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/,g=Object.prototype,b=g.toString,_=Array.isArray;t.exports=c},{"lodash._stringtopath":3}],5:[function(r,t){t.exports={version:"1.4.0-alpha.05"}},{}],6:[function(r,t){function e(r){for(var t=new Array(r),e=-1;++e<r;)t[e]=0;return t}function n(r,t){for(var e=r.length;t>e;)r[e++]=0;return r}function o(r,t){if(t>32)throw new Error("invalid array width!");return r}function i(r){this.length=r,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=crossfilter_array8(r)}"undefined"!=typeof Uint8Array&&(crossfilter_array8=function(r){return new Uint8Array(r)},crossfilter_array16=function(r){return new Uint16Array(r)},crossfilter_array32=function(r){return new Uint32Array(r)},crossfilter_arrayLengthen=function(r,t){if(r.length>=t)return r;var e=new r.constructor(t);return e.set(r),e},crossfilter_arrayWiden=function(r,t){var e;switch(t){case 16:e=crossfilter_array16(r.length);break;case 32:e=crossfilter_array32(r.length);break;default:throw new Error("invalid array width!")}return e.set(r),e}),i.prototype.lengthen=function(r){var t,e;for(t=0,e=this.subarrays;e>t;++t)this[t]=crossfilter_arrayLengthen(this[t],r);this.length=r},i.prototype.add=function(){var r,t,e,n,o;for(n=0,o=this.subarrays;o>n;++n)if(r=this.masks[n],t=this.width-32*n,e=~r&-~r,!(t>=32)||e)return 32>t&&e&1<<t&&(this[n]=crossfilter_arrayWiden(this[n],t<<=1),this.width=32*n+t),this.masks[n]|=e,{offset:n,one:e};return this[this.subarrays]=crossfilter_array8(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},i.prototype.copy=function(r,t){var e,n;for(e=0,n=this.subarrays;n>e;++e)this[e][r]=this[e][t]},i.prototype.truncate=function(r){var t,e;for(t=0,e=this.subarrays;e>t;++t){for(var n=this.length-1;n>=r;n--)this[t][n]=0;this[t].length=r}this.length=r},i.prototype.zero=function(r){var t,e;for(t=0,e=this.subarrays;e>t;++t)if(this[t][r])return!1;return!0},i.prototype.zeroExcept=function(r,t,e){var n,o;for(n=0,o=this.subarrays;o>n;++n)if(n===t?this[n][r]&e:this[n][r])return!1;return!0},i.prototype.zeroExceptMask=function(r,t){var e,n;for(e=0,n=this.subarrays;n>e;++e)if(this[e][r]&t[e])return!1;return!0},i.prototype.only=function(r,t,e){var n,o;for(n=0,o=this.subarrays;o>n;++n)if(this[n][r]!=(n===t?e:0))return!1;return!0},i.prototype.onlyExcept=function(r,t,e,n,o){var i,u,f;for(u=0,f=this.subarrays;f>u;++u)if(i=this[u][r],u===t&&(i&=e),i!=(u===n?o:0))return!1;return!0},t.exports={array8:e,array16:e,array32:e,arrayLengthen:n,arrayWiden:o,bitarray:i}},{}],7:[function(r,t){function e(r){function t(t,e,n,o){for(;o>n;){var i=n+o>>>1;r(t[i])<e?n=i+1:o=i}return n}function e(t,e,n,o){for(;o>n;){var i=n+o>>>1;e<r(t[i])?o=i:n=i+1}return n}return e.right=e,e.left=t,e}var n=r("./identity");t.exports=e(n),t.exports.by=e},{"./identity":12}],8:[function(r,t,e){function n(){function r(r){var t=M,e=r.length;return e&&(S=S.concat(r),O.lengthen(M+=e),C.forEach(function(n){n(r,t,e)}),A("dataAdded")),j}function t(){for(var r=o(M,M),t=[],e=0,n=0;M>e;++e)O.zero(e)?t.push(e):r[e]=n++;F.forEach(function(r){r(-1,-1,[],t,!0)}),q.forEach(function(t){t(r)});for(var e=0,n=0;M>e;++e)O.zero(e)||(e!==n&&(O.copy(n,e),S[n]=S[e]),++n);S.length=M=n,O.truncate(n),A("dataRemoved")}function e(r,t){var e,n,o,i,u=Array(O.subarrays);for(e=0;e<O.subarrays;e++)u[e]=-1;if(t)for(n=0,i=t.length;i>n;n++)o=t[n].id(),u[o>>7]&=~(1<<(63&o));return O.zeroExceptMask(r,u)}function n(r,t){function e(e,n,f){if(t){for(st=0,x=0,k=[],i=0;i<e.length;i++)for(x=0,k=r(e[i]);x<k.length;x++)st++;Q=[],Y=u(e.length),rt=o(st,1),tt=[];var c=u(st);for(l=0,i=0;i<e.length;i++)if(k=r(e[i]),k.length)for(Y[i]=k.length,x=0;x<k.length;x++)Q.push(k[x]),c[l]=i,l++;else Y[i]=0,tt.push(i);var s=ot(u(st),0,st);Q=b(Q,s),V=b(c,s)}else Q=e.map(r),V=ot(u(f),0,f),Q=b(Q,V);t&&(f=st);var h=it(Q),p=h[0],v=h[1];if(et)for(i=0;f>i;++i)et(Q[i],i)||(O[P][V[i]+n]|=G,t&&(rt[i]=1));else{for(i=0;p>i;++i)O[P][V[i]+n]|=G,t&&(rt[i]=1);for(i=v;f>i;++i)O[P][V[i]+n]|=G,t&&(rt[i]=1)}if(!n)return H=Q,K=V,X=Y,Z=rt,at=p,ct=v,void 0;var d=H,y=K,g=Z;if(i0=0,i1=0,t&&(old_n0=n,n=d.length,f=st),H=t?new Array(n+f):new Array(M),K=t?new Array(n+f):o(M,M),t&&(Z=o(n+f,1)),t){var _=X.length;X=a.arrayLengthen(X,M);for(var x=0;M>x+_;x++)X[x+_]=Y[x]}for(i=0;n>i0&&f>i1;++i)d[i0]<Q[i1]?(H[i]=d[i0],t&&(Z[i]=g[i0]),K[i]=y[i0++]):(H[i]=Q[i1],t&&(Z[i]=g[i1]),K[i]=V[i1++]+(t?old_n0:n));for(;n>i0;++i0,++i)H[i]=d[i0],t&&(Z[i]=g[i0]),K[i]=y[i0];for(;f>i1;++i1,++i)H[i]=Q[i1],t&&(Z[i]=g[i1]),K[i]=V[i1]+(t?old_n0:n);h=it(H),at=h[0],ct=h[1]}function n(r,t,e){ut.forEach(function(r){r(Q,V,t,e)}),Q=V=null}function g(r){for(var t,e=0,n=0;M>e;++e)O.zero(t=K[e])||(e!==n&&(H[n]=H[e]),K[n]=r[t],++n);for(H.length=n;M>n;)K[n++]=0;var o=it(H);at=o[0],ct=o[1]}function w(r){var e=r[0],n=r[1];if(et)return et=null,L(function(r,t){return t>=e&&n>t},0===r[0]&&r[1]===K.length),at=e,ct=n,nt;var o,i,u,f=[],a=[],c=[],s=[];if(at>e)for(o=e,i=Math.min(at,n);i>o;++o)f.push(K[o]),c.push(o);else if(e>at)for(o=at,i=Math.min(e,ct);i>o;++o)a.push(K[o]),s.push(o);if(n>ct)for(o=Math.max(e,ct),i=n;i>o;++o)f.push(K[o]),c.push(o);else if(ct>n)for(o=Math.max(at,n),i=ct;i>o;++o)a.push(K[o]),s.push(o);if(t){var l=[],h=[];for(o=0;o<f.length;o++)X[f[o]]++,Z[c[o]]=0,1===X[f[o]]&&(O[P][f[o]]^=G,l.push(f[o]));for(o=0;o<a.length;o++)X[a[o]]--,Z[s[o]]=1,0===X[a[o]]&&(O[P][a[o]]^=G,h.push(a[o]));if(f=l,a=h,0===r[0]&&r[1]===K.length)for(o=0;o<tt.length;o++)O[P][u=tt[o]]&G&&(O[P][u]^=G,f.push(u));else for(o=0;o<tt.length;o++)O[P][u=tt[o]]&G||(O[P][u]^=G,a.push(u))}else{for(o=0;o<f.length;o++)O[P][f[o]]^=G;for(o=0;o<a.length;o++)O[P][a[o]]^=G}return at=e,ct=n,F.forEach(function(r){r(G,P,f,a)}),A("filtered"),nt}function E(r){return null==r?N():Array.isArray(r)?j(r):"function"==typeof r?$(r):z(r)}function z(r){return w((it=c.filterExact(y,r))(H))}function j(r){return w((it=c.filterRange(y,r))(H))}function N(){return w((it=c.filterAll)(H))}function $(r){return et=r,it=c.filterAll,L(r,!1),at=0,ct=M,nt}function L(r,e){var n,o,i,u=[],f=[],a=[],c=[],s=K.length;if(!t)for(n=0;s>n;++n)!(O[P][o=K[n]]&G)^!!(i=r(H[n],n))&&(i?u.push(o):f.push(o));if(t)for(n=0;s>n;++n)r(H[n],n)?(u.push(K[n]),a.push(n)):(f.push(K[n]),c.push(n));if(t){var l=[],h=[];for(n=0;n<u.length;n++)1===Z[a[n]]&&(X[u[n]]++,Z[a[n]]=0,1===X[u[n]]&&(O[P][u[n]]^=G,l.push(u[n])));for(n=0;n<f.length;n++)0===Z[c[n]]&&(X[f[n]]--,Z[c[n]]=1,0===X[f[n]]&&(O[P][f[n]]^=G,h.push(f[n])));if(u=l,f=h,e)for(n=0;n<tt.length;n++)O[P][o=tt[n]]&G&&(O[P][o]^=G,u.push(o));else for(n=0;n<tt.length;n++)O[P][o=tt[n]]&G||(O[P][o]^=G,f.push(o))}else{for(n=0;n<u.length;n++)O[P][u[n]]&G&&(O[P][u[n]]&=J);for(n=0;n<f.length;n++)O[P][f[n]]&G||(O[P][f[n]]|=G)}F.forEach(function(r){r(G,P,u,f)}),A("filtered")}function T(r,e){var n,o=[],i=ct,u=0;for(e&&e>0&&(u=e);--i>=at&&r>0;)O.zero(n=K[i])&&(u>0?--u:(o.push(S[n]),--r));if(t)for(i=0;i<tt.length&&r>0;i++)O.zero(n=tt[i])&&(u>0?--u:(o.push(S[n]),--r));return o}function U(r,e){var n,o,i=[],u=0;if(e&&e>0&&(u=e),t)for(n=0;n<tt.length&&r>0;n++)O.zero(o=tt[n])&&(u>0?--u:(i.push(S[o]),--r));for(n=at;ct>n&&r>0;)O.zero(o=K[n])&&(u>0?--u:(i.push(S[o]),--r)),n++;return i}function D(r){function e(e,n,s,p){function v(){return t?(B++,void 0):(++B===I&&(E=a.arrayWiden(E,W<<=1),$=a.arrayWiden($,W),I=f(W)),void 0)}t&&(n0old=s,s=H.length-e.length,p=e.length);var d,g,_,x,w,m,k=N,E=t?[]:o(B,I),z=U,A=D,j=R,C=B,q=0,L=0;for(X&&(z=j=h),X&&(A=j=h),N=new Array(B),B=0,$=t?C>1?$:[]:C>1?a.arrayLengthen($,M):o(M,I),C&&(_=(g=k[0]).key);p>L&&!((x=r(e[L]))>=x);)++L;for(;p>L;){for(g&&x>=_?(w=g,m=_,E[q]=B,(g=k[++q])&&(_=g.key)):(w={key:x,value:j()},m=x),N[B]=w;m>=x&&(d=n[L]+(t?n0old:s),t?$[d]?$[d].push(B):$[d]=[B]:$[d]=B,w.value=z(w.value,S[d],!0),O.zeroExcept(d,P,J)||(w.value=A(w.value,S[d],!1)),!(++L>=p));)x=r(e[L]);v()}for(;C>q;)N[E[q]=B]=k[q++],v();if(t)for(i=0;M>i;i++)$[i]||($[i]=[]);if(B>q)if(t)$=b($,E,!0);else for(q=0;s>q;++q)$[q]=E[$[q]];d=F.indexOf(Q),B>1?(Q=u,V=l):(!B&&Y&&(B=1,N=[{key:null,value:j()}]),1===B?(Q=c,V=y):(Q=h,V=h),$=null),F[d]=Q}function n(){if(B>1){for(var r=B,t=N,e=o(r,r),n=0,i=0;M>n;++n)O.zero(n)||(e[$[i]=$[n]]=1,++i);for(N=[],B=0,n=0;r>n;++n)e[n]&&(e[n]=B++,N.push(t[n]));if(B>1)for(var n=0;i>n;++n)$[n]=e[$[n]];else $=null;F[F.indexOf(Q)]=B>1?(V=l,Q=u):1===B?(V=y,Q=c):V=Q=h}else if(1===B){if(Y)return;for(var n=0;M>n;++n)if(!O.zero(n))return;N=[],B=0,F[F.indexOf(Q)]=Q=V=h}}function u(r,e,n,o,i){if(!(r===G&&e===P||X)){var u,f,a,c,s;if(t){for(u=0,c=n.length;c>u;++u)if(O.zeroExcept(a=n[u],P,J))for(f=0;f<$[a].length;f++)s=N[$[a][f]],s.value=U(s.value,S[a],!1,f);for(u=0,c=o.length;c>u;++u)if(O.onlyExcept(a=o[u],P,J,e,r))for(f=0;f<$[a].length;f++)s=N[$[a][f]],s.value=D(s.value,S[a],i,f)}else{for(u=0,c=n.length;c>u;++u)O.zeroExcept(a=n[u],P,J)&&(s=N[$[a]],s.value=U(s.value,S[a],!1));for(u=0,c=o.length;c>u;++u)O.onlyExcept(a=o[u],P,J,e,r)&&(s=N[$[a]],s.value=D(s.value,S[a],i))}}}function c(r,t,e,n,o){if(!(r===G&&t===P||X)){var i,u,f,a=N[0];for(i=0,f=e.length;f>i;++i)O.zeroExcept(u=e[i],P,J)&&(a.value=U(a.value,S[u],!1));for(i=0,f=n.length;f>i;++i)O.onlyExcept(u=n[i],P,J,t,r)&&(a.value=D(a.value,S[u],o))}}function l(){var r,e,n;for(r=0;B>r;++r)N[r].value=R();if(t){for(r=0;M>r;++r)for(e=0;e<$[r].length;e++)n=N[$[r][e]],n.value=U(n.value,S[r],!0,e);for(r=0;M>r;++r)if(!O.zeroExcept(r,P,J))for(e=0;e<$[r].length;e++)n=N[$[r][e]],n.value=D(n.value,S[r],!1,e)}else{for(r=0;M>r;++r)n=N[$[r]],n.value=U(n.value,S[r],!0);for(r=0;M>r;++r)O.zeroExcept(r,P,J)||(n=N[$[r]],n.value=D(n.value,S[r],!1))}}function y(){var r,t=N[0];for(t.value=R(),r=0;M>r;++r)t.value=U(t.value,S[r],!0);for(r=0;M>r;++r)O.zeroExcept(r,P,J)||(t.value=D(t.value,S[r],!1))}function g(){return X&&(V(),X=!1),N}function _(r){var t=L(g(),0,N.length,r);return T.sort(t,0,t.length)}function w(r,t,e){return U=r,D=t,R=e,X=!0,C}function m(){return w(x.reduceIncrement,x.reduceDecrement,p)}function k(r){return w(x.reduceAdd(r),x.reduceSubtract(r),p)}function E(r){function t(t){return r(t.value)}return L=v.by(t),T=d.by(t),C}function z(){return E(s)}function A(){return B}function j(){var r=F.indexOf(Q);return r>=0&&F.splice(r,1),r=ut.indexOf(e),r>=0&&ut.splice(r,1),r=q.indexOf(n),r>=0&&q.splice(r,1),C}var C={top:_,all:g,reduce:w,reduceCount:m,reduceSum:k,order:E,orderNatural:z,size:A,dispose:j,remove:j};ft.push(C);var N,$,L,T,U,D,R,W=8,I=f(W),B=0,Q=h,V=h,X=!0,Y=r===h;return arguments.length<1&&(r=s),F.push(Q),ut.push(e),q.push(n),e(H,K,0,M),m().orderNatural()}function R(){var r=D(h),t=r.all;return delete r.all,delete r.top,delete r.order,delete r.orderNatural,delete r.size,r.value=function(){return t()[0].value},r}function W(){ft.forEach(function(r){r.dispose()});var r=C.indexOf(e);return r>=0&&C.splice(r,1),r=C.indexOf(n),r>=0&&C.splice(r,1),r=q.indexOf(g),r>=0&&q.splice(r,1),O.masks[P]&=J,N()}if("string"==typeof r){var I=r;r=function(r){return m(r,I)}}var G,J,P,B,H,K,Q,V,X,Y,Z,rt,tt,et,nt={filter:E,filterExact:z,filterRange:j,filterFunction:$,filterAll:N,top:T,bottom:U,group:D,groupAll:R,dispose:W,remove:W,accessor:r,id:function(){return B}},ot=_.by(function(r){return Q[r]}),it=c.filterAll,ut=[],ft=[],at=0,ct=0,st=0;C.unshift(e),C.push(n),q.push(g);var lt=O.add();return P=lt.offset,G=lt.one,J=~G,B=P<<7|Math.log(G)/Math.log(2),e(S,0,M),n(S,0,M),nt}function g(){function r(r,t){var e;if(!v)for(e=t;M>e;++e)a=c(a,S[e],!0),O.zero(e)||(a=s(a,S[e],!1))}function t(r,t,e,n,o){var i,u,f;if(!v){for(i=0,f=e.length;f>i;++i)O.zero(u=e[i])&&(a=c(a,S[u],o));for(i=0,f=n.length;f>i;++i)O.only(u=n[i],t,r)&&(a=s(a,S[u],o))}}function e(){var r;for(a=l(),r=0;M>r;++r)a=c(a,S[r],!0),O.zero(r)||(a=s(a,S[r],!1))}function n(r,t,e){return c=r,s=t,l=e,v=!0,h}function o(){return n(x.reduceIncrement,x.reduceDecrement,p)}function i(r){return n(x.reduceAdd(r),x.reduceSubtract(r),p)}function u(){return v&&(e(),v=!1),a}function f(){var e=F.indexOf(t);return e>=0&&F.splice(e),e=C.indexOf(r),e>=0&&C.splice(e),h}var a,c,s,l,h={reduce:n,reduceCount:o,reduceSum:i,value:u,dispose:f,remove:f},v=!0;return F.push(t),C.push(r),r(S,0,M),o()}function w(){return M}function E(){return S}function z(r){return"function"!=typeof r?(console.warn("onChange callback parameter must be a function!"),void 0):(N.push(r),function(){N.splice(N.indexOf(r),1)})}function A(r){for(var t=0;t<N.length;t++)N[t](r)}var O,j={add:r,remove:t,dimension:n,groupAll:g,size:w,all:E,onChange:z,isElementFiltered:e},S=[],M=0,F=[],C=[],q=[],N=[];return O=new a.bitarray(0),arguments.length?r(arguments[0]):j}function o(r,t){return(257>t?a.array8:65537>t?a.array16:a.array32)(r)}function u(r){for(var t=o(r,r),e=-1;++e<r;)t[e]=e;return t}function f(r){return 8===r?256:16===r?65536:4294967296}var a=r("./array"),c=r("./filter"),s=r("./identity"),h=r("./null"),p=r("./zero"),v=r("./heapselect"),d=r("./heap"),y=r("./bisect"),g=r("./insertionsort"),b=r("./permute"),_=r("./quicksort"),x=r("./reduce"),w=r("./../package.json"),m=r("lodash.result");e.crossfilter=n,e.crossfilter.heap=d,e.crossfilter.heapselect=v,e.crossfilter.bisect=y,e.crossfilter.insertionsort=g,e.crossfilter.permute=b,e.crossfilter.quicksort=_,e.crossfilter.version=w.version},{"./../package.json":5,"./array":6,"./bisect":7,"./filter":9,"./heap":10,"./heapselect":11,"./identity":12,"./insertionsort":13,"./null":14,"./permute":15,"./quicksort":16,"./reduce":17,"./zero":18,"lodash.result":4}],9:[function(r,t){function e(r,t){return function(e){var n=e.length;return[r.left(e,t,0,n),r.right(e,t,0,n)]}}function n(r,t){var e=t[0],n=t[1];return function(t){var o=t.length;return[r.left(t,e,0,o),r.left(t,n,0,o)]}}function o(r){return[0,r.length]}t.exports={filterExact:e,filterRange:n,filterAll:o}},{}],10:[function(r,t){function e(r){function t(r,t,e){for(var o=e-t,i=(o>>>1)+1;--i>0;)n(r,i,o,t);return r}function e(r,t,e){for(var o,i=e-t;--i>0;)o=r[t],r[t]=r[t+i],r[t+i]=o,n(r,1,i,t);return r}function n(t,e,n,o){for(var i,u=t[--o+e],f=r(u);(i=e<<1)<=n&&(n>i&&r(t[o+i])>r(t[o+i+1])&&i++,!(f<=r(t[o+i])));)t[o+e]=t[o+i],e=i;t[o+e]=u}return t.sort=e,t}var n=r("./identity");t.exports=e(n),t.exports.by=e},{"./identity":12}],11:[function(r,t){function e(r){function t(t,n,o,i){var u,f,a,c,s=new Array(i=Math.min(o-n,i));for(f=0;i>f;++f)s[f]=t[n++];if(e(s,0,i),o>n){u=r(s[0]);do(a=r(c=t[n])>u)&&(s[0]=c,u=r(e(s,0,i)[0]));while(++n<o)}return s}var e=o.by(r);return t}var n=r("./identity"),o=r("./heap");t.exports=e(n),t.exports.by=e},{"./heap":10,"./identity":12}],12:[function(r,t){function e(r){return r}t.exports=e},{}],13:[function(r,t){function e(r){function t(t,e,n){for(var o=e+1;n>o;++o){for(var i=o,u=t[o],f=r(u);i>e&&r(t[i-1])>f;--i)t[i]=t[i-1];t[i]=u}return t}return t}var n=r("./identity");t.exports=e(n),t.exports.by=e},{"./identity":12}],14:[function(r,t){function e(){return null}t.exports=e},{}],15:[function(r,t){function e(r,t,e){for(var n=0,o=t.length,i=e?JSON.parse(JSON.stringify(r)):new Array(o);o>n;++n)i[n]=r[t[n]];return i}t.exports=e},{}],16:[function(r,t){function e(r){function t(r,t,o){return(i>o-t?n:e)(r,t,o)}function e(e,n,o){var i,u=0|(o-n)/6,f=n+u,a=o-1-u,c=n+o-1>>1,s=c-u,l=c+u,h=e[f],p=r(h),v=e[s],d=r(v),y=e[c],g=r(y),b=e[l],_=r(b),x=e[a],w=r(x);p>d&&(i=h,h=v,v=i,i=p,p=d,d=i),_>w&&(i=b,b=x,x=i,i=_,_=w,w=i),p>g&&(i=h,h=y,y=i,i=p,p=g,g=i),d>g&&(i=v,v=y,y=i,i=d,d=g,g=i),p>_&&(i=h,h=b,b=i,i=p,p=_,_=i),g>_&&(i=y,y=b,b=i,i=g,g=_,_=i),d>w&&(i=v,v=x,x=i,i=d,d=w,w=i),d>g&&(i=v,v=y,y=i,i=d,d=g,g=i),_>w&&(i=b,b=x,x=i,i=_,_=w,w=i);var m=v,k=d,E=b,z=_;e[f]=h,e[s]=e[n],e[c]=y,e[l]=e[o-1],e[a]=x;var A=n+1,O=o-2,j=z>=k&&k>=z;if(j)for(var S=A;O>=S;++S){var M=e[S],F=r(M);if(k>F)S!==A&&(e[S]=e[A],e[A]=M),++A;else if(F>k)for(;;){var C=r(e[O]);{if(!(C>k)){if(k>C){e[S]=e[A],e[A++]=e[O],e[O--]=M;break}e[S]=e[O],e[O--]=M;break}O--}}}else for(var S=A;O>=S;S++){var M=e[S],F=r(M);if(k>F)S!==A&&(e[S]=e[A],e[A]=M),++A;else if(F>z)for(;;){var C=r(e[O]);{if(!(C>z)){k>C?(e[S]=e[A],e[A++]=e[O],e[O--]=M):(e[S]=e[O],e[O--]=M);break}if(O--,S>O)break}}}if(e[n]=e[A-1],e[A-1]=m,e[o-1]=e[O+1],e[O+1]=E,t(e,n,A-1),t(e,O+2,o),j)return e;if(f>A&&O>a){for(var q,C;(q=r(e[A]))<=k&&q>=k;)++A;for(;(C=r(e[O]))<=z&&C>=z;)--O;for(var S=A;O>=S;S++){var M=e[S],F=r(M);if(k>=F&&F>=k)S!==A&&(e[S]=e[A],e[A]=M),A++;else if(z>=F&&F>=z)for(;;){var C=r(e[O]);{if(!(z>=C&&C>=z)){k>C?(e[S]=e[A],e[A++]=e[O],e[O--]=M):(e[S]=e[O],e[O--]=M);break}if(O--,S>O)break}}}}return t(e,A,O+1)}var n=o.by(r);return t}var n=r("./identity"),o=r("./insertionsort"),i=32;t.exports=e(n),t.exports.by=e},{"./identity":12,"./insertionsort":13}],17:[function(r,t){function e(r){return r+1}function n(r){return r-1}function o(r){return function(t,e){return t+ +r(e)}}function i(r){return function(t,e){return t-r(e)}}t.exports={reduceIncrement:e,reduceDecrement:n,reduceAdd:o,reduceSubtract:i}},{}],18:[function(r,t){function e(){return 0}t.exports=e},{}]},{},[1])(1)});